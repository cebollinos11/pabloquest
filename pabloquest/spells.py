import interface as iimport tcod as libtcodimport fovimport enchantments as enimport main_functions as mfimport aifrom image_gestor import LIfrom audio import PlaySoundclass Spell:    name="spellname"        manacost=3    def cast(self,who):        if self.manacost>who.mana:            i.s('You need more mana!')            return        self.on_cast(who)        who.mana-=self.manacost            PlaySound("magic")    class Spell_MagicEye(Spell):    manacost=1    name = 'Magic eye'    def on_cast(self,who):        PlaySound("magic_eye")        en.Get_MonsterEye().getEnchantment(who)        en.Get_ItemEye().getEnchantment(who)        en.Get_MapEye().getEnchantment(who)        class Spell_RockSkin(Spell):    name='Rock skin'    manacost=4    def on_cast(self,who):        en.RockSkin().getEnchantment(who)        i.showhit(who,None,LI('special/yellow_light',1))       class Spell_Fireball(Spell):    manacost=5    name = 'Fireball'    def on_cast(self,who):        tar=mf.getsingletarget('Choose target:',1)        if tar != None:            i.s(tar.name+' is burnt!')            PlaySound("fire_spell")            PlaySound("fire")                        tar.receivedmg(10,LI('special/fire_hit',1))         class Spell_Heal(Spell):    manacost=4    name = 'Healing touch'    def on_cast(self,who):                               who.heal(10)class Spell_Teleport(Spell):    manacost=4    name='Teleportation'    def on_cast(self,who):        x,y=mf.free_tile_away_from((who.x,who.y))        mf.remove_from_tile(who)        mf.put_in_tile(who,x,y)        PlaySound("teleport")        i.s(who.name+' is teleported!')        who.computeFov=1class Lightning_rain(Spell):    manacost=10    name = 'Lightning rain'        def on_cast(self,who):                for tar in mf.getallenemies():            PlaySound('thunder')            tar.receivedmg(10,LI('special/electro',1))    ALLSPELLS = [Spell_MagicEye,Spell_RockSkin,Spell_Heal,Spell_Teleport,Spell_Fireball,Lightning_rain]